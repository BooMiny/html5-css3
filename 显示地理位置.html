<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>获取地理位置</title>
    </head>
    <body>
        <p id="demo">获取地理位置</p>
        <button onclick="getLocation()">试一下</button>
        <script>
            var x = document.getElementById("demo");
            function getLocation()
            {
                if(navigator.geolocation)
                    {
                        navigator.geolocation.getCurrentPosition(showPosition,showError);
                    }
                else
                {
                    x.innerHTML = "无法获取地理位置";
                }
            }
            function showPosition(position)
            {
                x.innerHTML = "Latitude:"+position.coords.latitude+
                    "<br/>Longitude:"+position.coords.longitude;
            }
            function showError(error)
            {
                switch(error.code)
                    {
                        case error.PERMISSION_DENIED:
                            x.innerHTML = "用户拒绝被获取地理位置";
                            break;
                        case error.POSITION_UNAVALABLE:
                            x.innerHTML = "地理位置不可用";
                            break;
                        case error.timeout:
                            x.innerHTML = "请求超时";
                            break;
                        case error.UNKNOWN_ERROR:
                            x.innerHTML = "一个未知错误";
                            break;
                    }
            }
        </script>
    </body>
</html>